<body>
<h1>Franca IDL package: default</h1>

	<h2>Interface PowerSupplySystem</h2>

	<h3>Version 1.0</h3>
	<p><table border=1><tr><td colspan=2><em>Electronic Power Supply System interface.
	
	                   Operational Modes: Normal and Safe
	                   General Purpose Outputs (GPOs): 4 - OUT1, OUT2, OUT3, OUT4
	                   Power Outputs: 3.3V, 5V, 12V
	                   
	                   This file is made with the following Java, Franca, and Xtend versioning.
	                   Eclipse/Xtend IDE: 2018-09 (4.9.0)
	                   Xtext Complete SDK: 2.15.0
	                   Java Compliance: 1.8
	                   Franca IDL: 0.13.2 (Runtime and UI)
	                   HTML Generator used can be found in the Franca Source Code under ...examples.basic package:
	                   "Franca2HtmlTest.java".</em></td></tr><tr><td><b>@author</b></td><td><em>Steven</em></td></tr></table></p>


	<h3>Methods</h3>
	<h4>getDeviceInfo()</h4>
	<p><em>Returns basic information about the EPS device.
	                      Includes system type  hardware version  serial number 
	                      firmware type  and firmware version</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td>String</td><td>SystemType</td><td></td></tr>
	<tr><td>out</td><td>UInt16</td><td>SystemHWVersion</td><td><em>System Hardware Version</em></td></tr>
	<tr><td>out</td><td>String</td><td>SystemSerialNumber</td><td></td></tr>
	<tr><td>out</td><td><a href="#type_FWType">FWType</a></td><td>FirmwareType</td><td><em>FirmwareType: application, bootloader</em></td></tr>
	<tr><td>out</td><td>UInt16</td><td>FWVersionMaj</td><td></td></tr>
	<tr><td>out</td><td>UInt16</td><td>FWVersionMin</td><td></td></tr>
	</table>
	<h4>getBatteryInfo()</h4>
	<p><em>Returns telemetry from the battery pack.
	                      Includes SoC percentage,  voltage (mV),  current (mA), 
	                      and temperature (°C). Current is positive during charging
	                      and negative during discharge.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td>UInt8</td><td>BattPercent</td><td></td></tr>
	<tr><td>out</td><td>Int64</td><td>BattVoltage</td><td><em>Battery Voltage in mV</em></td></tr>
	<tr><td>out</td><td>Int64</td><td>BattCurrent</td><td><em>Battery Current in mA, positive is for charging, negative is for discharging</em></td></tr>
	<tr><td>out</td><td>Int16</td><td>BattTemperature</td><td><em>Battery Temperature in degrees Celcius</em></td></tr>
	</table>
	<h4>setBatteryHeaterSettings()</h4>
	<p><em>Configures battery heater settings for different modes.
	                      Target temperatures are provided in °C.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>in</td><td><a href="#type_EnableBitmask">EnableBitmask</a></td><td>Mode</td><td><em>Mode: disabled, all_modes, normal_mode, safe_mode</em></td></tr>
	<tr><td>in</td><td>Int32</td><td>TargetTempNormal</td><td></td></tr>
	<tr><td>in</td><td>Int32</td><td>TargetTempSafe</td><td></td></tr>
	<tr><td>out</td><td><a href="#type_StatusCode">StatusCode</a></td><td>Result</td><td><em>Result: success, bad_parameters, comms_error</em></td></tr>
	</table>
	<h4>getBatteryHeaterSettings()</h4>
	<p><em>Retrieves the currently configured battery heater settings.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td><a href="#type_EnableBitmask">EnableBitmask</a></td><td>Mode</td><td><em>Mode: disabled, all_modes, normal_mode, safe_mode</em></td></tr>
	<tr><td>out</td><td>Int32</td><td>TargetTempNormal</td><td></td></tr>
	<tr><td>out</td><td>Int32</td><td>TargetTempSafe</td><td></td></tr>
	</table>
	<h4>setModeTransitionSettings()</h4>
	<p><em>Sets the transition intervals and safe mode thresholds.
	                      Combines interval timings and threshold values into one
	                      configuration command.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>in</td><td><a href="#type_TransitionSettings">TransitionSettings</a></td><td>Transition_Intervals</td><td><em>struct Transition_Intervals: UInt8 ModeBroadcastInterval,
	        	 											   UInt16 HealthCheckInterval</em></td></tr>
	<tr><td>in</td><td><a href="#type_SafeModeSettings">SafeModeSettings</a></td><td>SafeMode_Thresholds</td><td><em>struct SafeMode_Thresholds: Int64 VEnterThreshold in mV,
	             											  Int64 VExitThreshold in mV,
	             											  Int16 TEnterThreshold in °C, 
	             											  Int16 TExitThreshold in °C</em></td></tr>
	<tr><td>out</td><td><a href="#type_StatusCode">StatusCode</a></td><td>Result</td><td><em>Result: success, bad_parameters, comms_error</em></td></tr>
	</table>
	<h4>getModeTransitionSettings()</h4>
	<p><em>Reads back the current transition intervals and safe mode thresholds.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td><a href="#type_TransitionSettings">TransitionSettings</a></td><td>Transition_Intervals</td><td><em>struct Transition_Intervals: UInt8 ModeBroadcastInterval, UInt16 HealthCheckInterval</em></td></tr>
	<tr><td>out</td><td><a href="#type_SafeModeSettings">SafeModeSettings</a></td><td>SafeMode_Thresholds</td><td><em>struct SafeMode_Thresholds: Int64 VEnterThreshold in mV, 
	            											  Int64 VExitThreshold in mV, 
	            											  Int16 TEnterThreshold in °C, 
	            											  Int16 TExitThreshold in °C</em></td></tr>
	</table>
	<h4>setGPOs()</h4>
	<p><em>Sets the state of one or more GPO outputs.
	                      Uses a filter mask to select which GPOs to affect 
	                      and a value mask to set their ON/OFF state.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>in</td><td><a href="#type_GPOFilterBitMask">GPOFilterBitMask</a></td><td>Filter</td><td><em>Filter: OUT1=0x01, OUT2=0x02, OUT3=0x04, OUT4=0x08</em></td></tr>
	<tr><td>in</td><td><a href="#type_GPOValueBitMask">GPOValueBitMask</a></td><td>Value</td><td><em>Value: OFF=0x00, En_OUT1=0x01, En_OUT2=0x02, En_OUT3=0x04, En_OUT4=0x08</em></td></tr>
	<tr><td>out</td><td><a href="#type_StatusCode">StatusCode</a></td><td>Result</td><td><em>Result: success, bad_parameters, comms_error</em></td></tr>
	</table>
	<h4>getGPOs()</h4>
	<p><em>Returns the status of all GPO outputs as a bitmask.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td>UInt8</td><td>GPOStatusBitMask</td><td><em>Bitmask that shows the current status of all GPOs following the corresponding bit scheme:
	        	 				  Bit0=En_OUT1, Bit1=STAT_OUT1, Bit2=En_OUT2, Bit3=_STAT_OUT2,
	        	 				  Bit4=En_OUT3, Bit5=STAT_OUT3, Bit6=En_OUT4, Bit7=STAT_OUT4</em></td></tr>
	</table>
	<h4>setPowerOutputs()</h4>
	<p><em>Controls enabling/disabling of regulated power outputs.
	                      Uses a filter mask to select which rails are affected 
	                      and a value mask to set their ON/OFF state.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>in</td><td><a href="#type_FilterBitMask">FilterBitMask</a></td><td>Filter</td><td><em>Filter: VOLTAGE_3V3=0x01, VOLTAGE_5V=0x02,
	        	 						  VOLTAGE_12V=0x04</em></td></tr>
	<tr><td>in</td><td><a href="#type_ValueBitMask">ValueBitMask</a></td><td>Value</td><td><em>Value: ALL_ON=0x00, En_VOLTAGE_3V3=0x01,
	            						 En_VOLTAGE_5V=0x02, En_VOLTAGE_12V=0x04</em></td></tr>
	<tr><td>out</td><td><a href="#type_StatusCode">StatusCode</a></td><td>Result</td><td><em>Result: success, bad_parameters, comms_error</em></td></tr>
	</table>
	<h4>getPowerOutputs()</h4>
	<p><em>Returns the current status of all power outputs as a bitmask.
	                      The corresponding bits of the mask (16 bits) should follow the shown scheme.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td>UInt16</td><td>POStatusBitMask</td><td><em>Bitmask that shows the current status of all the power outputs. 
	        					  Value of each corresponding bit # is shown: 
	        					  Bits: 0=En_VOLTAGE_3V3, 1=En_VOLTAGE_5V, 2=En_VOLTAGE_12V,
	        					        3=STAT_3V3_GOOD, 4=STAT_5V_GOOD, 5=STAT_12V_GOOD, 
	        					        6=STAT_OVERCURRENT, 7=STAT_OVERVOLT, 8=STAT_UNDERVOLT,
	        					        9=STAT_TEMP_WARN, 10=STAT_TEMP_SHUTDOWN, 11=STAT_MODE_SAFE,
	        					        12=STAT_MODE_NORMAL, 13-15=RESERVED</em></td></tr>
	</table>
	<h4>ResetDevice()</h4>
	<p><em>Performs a device reset.</em></p>
	<table border=1>
	<tr><th>Dir</th><th>Type</th><th>Name</th><th>Comment</th></tr>
	<tr><td>out</td><td>Boolean</td><td>Result</td><td></td></tr>
	</table>


	<h3>Types</h3>
	<table border=1>
	<tr><th>Type name</th><th>Comment</th><th>Definition</th></tr>
	<tr>
		<td><a name="type_EnableBitmask">EnableBitmask</a></td>
		<td><em>Bitmask for enabling/disabling battery heater depending on mode</em></td>
		<td><table border=1>
			<tr>
				<td>disabled</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>all_modes</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>normal_mode</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>safe_mode</td>
				<td></td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_FWType">FWType</a></td>
		<td><em>Firmware type currently running on the device</em></td>
		<td><table border=1>
			<tr>
				<td>application</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>bootloader</td>
				<td></td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_FilterBitMask">FilterBitMask</a></td>
		<td><em>Power output filter mask.</em></td>
		<td><table border=1>
			<tr>
				<td>VOLTAGE_3V3</td>
				<td>1</td>
				<td></td>
			</tr>
			<tr>
				<td>VOLTAGE_5V</td>
				<td>2</td>
				<td></td>
			</tr>
			<tr>
				<td>VOLTAGE_12V</td>
				<td>4</td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_GPOFilterBitMask">GPOFilterBitMask</a></td>
		<td><em>GPO filter selection (bitmask of which outputs to act on).
		                      Multiple bits may be set at once.</em></td>
		<td><table border=1>
			<tr>
				<td>OUT1</td>
				<td>1</td>
				<td></td>
			</tr>
			<tr>
				<td>OUT2</td>
				<td>2</td>
				<td></td>
			</tr>
			<tr>
				<td>OUT3</td>
				<td>4</td>
				<td></td>
			</tr>
			<tr>
				<td>OUT4</td>
				<td>8</td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_GPOValueBitMask">GPOValueBitMask</a></td>
		<td><em>GPO output values (bitmask of which outputs are enabled). 
		                      OFF means all disabled. En relates to the enable function. 
		                      When true the output is enabled through the GPO.</em></td>
		<td><table border=1>
			<tr>
				<td>OFF</td>
				<td>0</td>
				<td></td>
			</tr>
			<tr>
				<td>En_OUT1</td>
				<td>1</td>
				<td></td>
			</tr>
			<tr>
				<td>En_OUT2</td>
				<td>2</td>
				<td></td>
			</tr>
			<tr>
				<td>En_OUT3</td>
				<td>4</td>
				<td></td>
			</tr>
			<tr>
				<td>En_OUT4</td>
				<td>8</td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_SafeModeSettings">SafeModeSettings</a></td>
		<td><em>Threshold values for entering and leaving Safe Mode 
		                      based on voltage (mV) and temperature (°C).</em></td>
		<td><table border=1>
			<tr>
				<td>TEnterThreshold</td>
				<td>Int16</td>
				<td><em>Temperature Enter Threshold in Degrees Celcius</em></td>
			</tr>
			<tr>
				<td>TExitThreshold</td>
				<td>Int16</td>
				<td><em>Temperature Exit Threshold in Degrees Celcius</em></td>
			</tr>
			<tr>
				<td>VEnterThreshold</td>
				<td>Int64</td>
				<td><em>Voltage Enter Threshold in mV</em></td>
			</tr>
			<tr>
				<td>VExitThreshold</td>
				<td>Int64</td>
				<td><em>Voltage Exit Threshold in mV</em></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_StatusCode">StatusCode</a></td>
		<td><em>Status code returned by configuration commands</em></td>
		<td><table border=1>
			<tr>
				<td>success</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>bad_parameters</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>comms_error</td>
				<td></td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_TransitionSettings">TransitionSettings</a></td>
		<td><em>Parameters controlling system-wide mode transition intervals.</em></td>
		<td><table border=1>
			<tr>
				<td>HealthCheckInterval</td>
				<td>UInt16</td>
				<td></td>
			</tr>
			<tr>
				<td>ModeBroadcastInterval</td>
				<td>UInt8</td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td><a name="type_ValueBitMask">ValueBitMask</a></td>
		<td><em>Power output values (bitmask of which rails are enabled). 
		                      ALL_ON=0x00 enables all outputs. En relates to the enable function.
		                      When true the corresponding voltage is enabled as an output.</em></td>
		<td><table border=1>
			<tr>
				<td>ALL_ON</td>
				<td>0</td>
				<td></td>
			</tr>
			<tr>
				<td>En_VOLTAGE_3V3</td>
				<td>1</td>
				<td></td>
			</tr>
			<tr>
				<td>En_VOLTAGE_5V</td>
				<td>2</td>
				<td></td>
			</tr>
			<tr>
				<td>En_VOLTAGE_12V</td>
				<td>4</td>
				<td></td>
			</tr>
		</table>
		</td>
	</tr>
	</table>

<br><hr>
<em>Generated by Franca.HTMLGenerator</em>
</body>
